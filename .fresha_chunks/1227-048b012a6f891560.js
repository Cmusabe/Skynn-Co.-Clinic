try{!function(){var e="u">typeof window?window:"u">typeof global?global:"u">typeof globalThis?globalThis:"u">typeof self?self:{},l=(new e.Error).stack;l&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[l]="f5343933-5d10-4e91-8e12-7e4f7615d092",e._sentryDebugIdIdentifier="sentry-dbid-f5343933-5d10-4e91-8e12-7e4f7615d092")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1227],{10266:e=>{e.exports={modalTitle:"EmployeeProfileModalTitle_modalTitle__U2_Yb","modalTitle--share":"EmployeeProfileModalTitle_modalTitle--share__1FcLY","modalTitle--share--hidden":"EmployeeProfileModalTitle_modalTitle--share--hidden__p55Gf","modalTitle--avatar":"EmployeeProfileModalTitle_modalTitle--avatar__2Dh8m","modalTitle--avatar--hidden":"EmployeeProfileModalTitle_modalTitle--avatar--hidden__0HiI8"}},18307:e=>{e.exports={title:"Services_title__lSplw",list:"Services_list__7tIQZ"}},25798:(e,l,s)=>{"use strict";s.d(l,{o:()=>n});var o=s(37876),t=s(14232),r=s(70346),a=s(98369),i=s.n(a);let n=(0,t.memo)(e=>{let{as:l="p",children:s,className:t}=e,a=(e=>{let l=e.split("\n"),s=[],o=/^\s*(```|~~~)/,t=/^\s*(\d+)\.\s+(.*)$/,r=!1;for(let e=0;e<l.length;e++){let a=l[e];if(o.test(a)){r=!r,s.push(a);continue}let i=!r&&a.match(t);if(i){let o=`${i[1]}. ${i[2]}`,r=e+1;for(;r<l.length&&/^\s*$/.test(l[r]);)r++;if(r<l.length&&t.test(l[r])){s.push(o),e=r-1;continue}s.push(o);continue}s.push(a)}return s.join("\n")})((s||"").replaceAll(/([^\n]|^)\n([^\n]|$)/g,"$1\n\n$2").replaceAll(/\t|\u2003/g," "));return(0,o.jsx)(l,{className:t,dangerouslySetInnerHTML:{__html:i()((0,r.A)(a))}})})},29469:e=>{e.exports={modalHeader:"EmployeeProfileModal_modalHeader__fGFAk","modalHeader--variant-gray":"EmployeeProfileModal_modalHeader--variant-gray__aEC3E","modalContent--only-child":"EmployeeProfileModal_modalContent--only-child__QY1yr",anchor:"EmployeeProfileModal_anchor__DecuL",pillsContainer:"EmployeeProfileModal_pillsContainer__X2qZe","pillsContainer--showChrome":"EmployeeProfileModal_pillsContainer--showChrome__oN9y6"}},37040:e=>{e.exports={self:"About_self__DTBbI",stats:"About_stats__IMaUP"}},51227:(e,l,s)=>{"use strict";s.d(l,{Tj:()=>eM,Oq:()=>eL,kM:()=>eF,Eu:()=>eP});var o=s(37876),t=s(28933),r=s(95761),a=s(985),i=s(64820),n=s(67015),d=s(69111),c=s(420),h=s(60340),u=s(99041),p=s(14321),m=s(49995),f=s(14232),x=s(36249),g=s(4358),v=s(344),j=s(30475),y=s(40439),b=s(21031),_=s(81177),w=s(34700),S=s(64449),k=s(42354),E=s(19822),C=s(14083),I=s(32533),T=s(78430),N=s(37040),A=s.n(N);function M(e){let{about:l,appointmentsCompleted:s,basicsAndInterests:t,clientsServed:r,languages:a}=e,i=a??[],d=t??[];return(0,o.jsxs)(C.B,{as:"div",gap:"400",unsafeClassName:A().self,children:[(0,o.jsxs)("div",{className:A().stats,children:[(0,o.jsx)(E.c.Row,{leftSection:(0,o.jsx)(T.E,{font:"body-s-regular",children:(0,b.__)("Appointments completed")}),rightSection:(0,o.jsx)(T.E,{font:"body-s-regular",color:"neutralFaded",children:s||0})}),(0,o.jsx)(E.c.Row,{leftSection:(0,o.jsx)(T.E,{font:"body-s-regular",children:(0,b.__)("Clients served")}),rightSection:(0,o.jsx)(T.E,{font:"body-s-regular",color:"neutralFaded",children:r||0})})]}),!!l&&(0,o.jsxs)("div",{children:[(0,o.jsx)(T.E,{font:"header-xs-semibold",as:"h2",mb:"200",children:(0,b.__)("About me")}),(0,o.jsx)(T.E,{font:"body-s-regular",overflow:"break",children:l})]}),!!i.length&&(0,o.jsxs)("div",{children:[(0,o.jsx)(T.E,{font:"header-xs-semibold",mb:"200",children:(0,b.__)("Languages")}),(0,o.jsx)(n.s,{gap:"100",wrap:"wrap",children:i.map(e=>{let{label:l}=e;return(0,o.jsx)(I.v,{size:"l",variant:"neutralQuiet",children:l},l)})})]}),!!d.length&&(0,o.jsxs)("div",{children:[(0,o.jsx)(T.E,{font:"header-xs-semibold",mb:"200",children:(0,b.__)("Interests")}),(0,o.jsx)(n.s,{gap:"100",wrap:"wrap",children:d.map(e=>{let{emoji:l,label:s}=e;return(0,o.jsx)(I.v,{size:"l",variant:"neutralQuiet",children:`${l} ${s}`},s+l)})})]})]})}function P(){return(0,o.jsxs)(C.B,{as:"div",gap:"400",unsafeClassName:A().self,children:[(0,o.jsxs)("div",{className:A().stats,children:[(0,o.jsx)(E.c.Row,{leftSection:(0,o.jsx)(T.E.Skeleton,{font:"body-s-regular",width:"163px"}),rightSection:(0,o.jsx)(T.E.Skeleton,{font:"body-s-regular",width:"33px"})}),(0,o.jsx)(E.c.Row,{leftSection:(0,o.jsx)(T.E.Skeleton,{font:"body-s-regular",width:"91px"}),rightSection:(0,o.jsx)(T.E.Skeleton,{font:"body-s-regular",width:"29px"})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(T.E.Skeleton,{font:"header-s-semibold",mb:"200",width:"91px"}),(0,o.jsx)(T.E.Skeleton,{font:"body-s-regular",width:"100%"}),(0,o.jsx)(T.E.Skeleton,{font:"body-s-regular",width:"95%"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(T.E.Skeleton,{font:"header-s-semibold",mb:"200",width:"91px"}),(0,o.jsx)(n.s,{gap:"100",wrap:"wrap",children:[91,145,123,115].map((e,l)=>(0,o.jsx)(h.E,{width:`${e}px`,height:"32px",shape:"rounded"},l))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(T.E.Skeleton,{font:"header-s-semibold",mb:"200",width:"160px"}),(0,o.jsx)(n.s,{gap:"100",wrap:"wrap",children:[111,145,98].map((e,l)=>(0,o.jsx)(h.E,{width:`${e}px`,height:"32px",shape:"rounded"},l))})]})]})}var F=s(84288),L=s(36600),R=s(25798),$=s(97719),H=s.n($);function O(e){let{avatar:l,initials:s,displayName:t,jobTitle:r,reviewsCount:a,reviewsRating:i,lastUserReview:d,handleSeeAllReviews:c,handleAvatarClick:h}=e;return(0,o.jsx)("div",{className:H().hero,children:(0,o.jsxs)(n.s,{gap:"100",alignItems:"center",direction:"column",children:[(0,o.jsx)(F.e,{initials:s,size:"6xl",src:l?.url,onAction:h,"data-qa":"hero-avatar"}),(0,o.jsx)(T.E,{as:"h1",align:"center",font:"header-m-semibold",overflow:"ellipsis",children:t}),(0,o.jsxs)(n.s,{direction:"column",gap:"50",alignItems:"center",children:[r&&(0,o.jsx)(T.E,{align:"center",font:"body-m-regular",overflow:"ellipsis",children:r}),d&&(0,o.jsxs)("div",{className:H().lastUserReview,children:[(0,o.jsx)(R.o,{children:d}),(0,o.jsx)(L.r,{rating:1,ratingCount:1,starVariant:"default",starsOnly:!0})]}),!d&&!!i&&!!a&&(0,o.jsx)(L.r,{onAction:c,rating:i,ratingCount:a,starVariant:"yellow"})]})]})})}let W=()=>(0,o.jsx)("div",{className:H().hero,children:(0,o.jsxs)(n.s,{gap:"100",alignItems:"center",direction:"column",children:[(0,o.jsx)(h.E,{width:"192px",height:"192px",shape:"rounded"}),(0,o.jsx)(T.E.Skeleton,{font:"header-m-semibold",width:"267px"}),(0,o.jsxs)(n.s,{direction:"column",gap:"50",alignItems:"center",children:[(0,o.jsx)(T.E.Skeleton,{font:"body-m-regular",width:"157px"}),(0,o.jsx)(T.E.Skeleton,{font:"body-m-regular",width:"311px"}),(0,o.jsxs)(n.s,{gap:"100",children:[(0,o.jsx)(T.E.Skeleton,{font:"body-m-medium",width:"45px"}),(0,o.jsx)(T.E.Skeleton,{font:"body-m-medium",width:"31px"})]})]})]})}),B=()=>(0,o.jsxs)(n.s,{direction:"horizontal",gap:"250",alignItems:"center",children:[(0,o.jsx)(T.E.Skeleton,{width:"75px",font:"body-s-semibold"}),(0,o.jsx)(T.E.Skeleton,{width:"90px",font:"body-s-semibold"}),(0,o.jsx)(T.E.Skeleton,{width:"120px",font:"body-s-semibold"}),(0,o.jsx)(T.E.Skeleton,{width:"111px",font:"body-s-semibold"})]});var U=s(19039),z=s(33599),D=s(53379),V=s(95692),q=s(17256),G=s(93406),Y=s(87467),Q=s(56648),Z=s(58625),X=s(76724),K=s(11952),J=s(25034),ee=s(85394),el=s.n(ee);function es(e){let{displayName:l,shareUrl:t,unsafeClassName:r}=e,{addErrorToast:a,addSuccessToast:n}=(0,S.Y)(),d=(0,f.useRef)(null),c=(0,f.useRef)(null),[h,u]=(0,f.useState)(!1);if(!t)return null;let p=encodeURI((0,b.__)("Check out %{displayName} on Fresha",{displayName:l})),m=async()=>{try{if(navigator?.share)await navigator.share({...l&&{title:l},url:t});else throw Error()}catch(e){e?.name!=="AbortError"&&u(!0)}},x=e=>async()=>{await e(),u(!1)},g=async()=>{try{await navigator?.clipboard?.writeText?.(t),n((0,b.__)("Link copied to clipboard"))}catch{a((0,b.__)("Unable to copy link to clipboard"))}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.$,{icon:V.l,isLabelHidden:!0,onAction:m,qaType:"share-button",ref:c,shape:"circle",size:"m",variant:"secondary",unsafeClassName:r,children:(0,b.__)("Share")}),(0,o.jsx)(K.A,{state:{isOpen:h,open:()=>u(!0),close:()=>u(!1),setOpen:u,toggle:()=>u(e=>!e)},offset:8,popoverRef:d,placement:"bottom start",triggerRef:c,qaType:"share-popover",children:(0,o.jsx)(X.W,{children:(0,o.jsxs)(X.W.List,{header:(0,b.__)("Share professional profile"),children:[(0,o.jsx)(X.W.Item,{prefix:(0,o.jsx)("div",{className:el().icon,children:(0,o.jsx)(q.T,{color:"accent"})}),label:(0,b.__)("Copy link"),onAction:x(g)}),(0,o.jsx)(X.W.Item,{prefix:(0,o.jsx)("div",{className:el().icon,children:(0,o.jsx)(G.p,{color:"accent"})}),label:(0,b.__)("Email"),onAction:x(()=>{s.g.open(`mailto:?body=${p}%0d%0a${t}`,"_blank")})}),(0,o.jsx)(X.W.Item,{prefix:(0,o.jsx)("div",{className:el().icon,children:(0,o.jsx)(Y.i,{color:"accent"})}),isExternal:!0,label:(0,b.__)("Facebook"),linkTo:`https://www.facebook.com/dialog/share?app_id=${J.FACEBOOK_APP_ID}&href=${t}`,target:"_blank"}),(0,o.jsx)(X.W.Item,{isExternal:!0,prefix:(0,o.jsx)("div",{className:el().icon,children:(0,o.jsx)(Q.F,{color:"accent"})}),label:(0,b.__)("X (Twitter)"),linkTo:`https://twitter.com/intent/tweet?url=${t}&text=${p}`,target:"_blank"}),(0,o.jsx)(X.W.Item,{isExternal:!0,prefix:(0,o.jsx)("div",{className:el().icon,children:(0,o.jsx)(Z.Y,{color:"accent"})}),label:(0,b.__)("Whatsapp"),linkTo:`https://api.whatsapp.com/send?text=${p}%0A${t}`,target:"_blank"})]})})})]})}var eo=s(10266),et=s.n(eo);let er=e=>{let{isLoading:l,resolvedFragment:s,isHeroSectionVisible:t,onAvatarClick:r}=e;return l||!s?(0,o.jsx)(h.E,{width:"36px",height:"36px",shape:"rounded"}):(0,o.jsxs)("div",{className:et().modalTitle,children:[(0,o.jsx)(es,{displayName:s.displayName,shareUrl:s.shareUrl,unsafeClassName:(0,m.A)(et()["modalTitle--share"],!t&&et()["modalTitle--share--hidden"])}),(0,o.jsxs)("div",{className:(0,m.A)(et()["modalTitle--avatar"],t&&et()["modalTitle--avatar--hidden"]),children:[(0,o.jsx)(F.e,{src:s.avatar?.url,size:"s",initials:s.initials,onAction:r,type:"button"}),(0,o.jsx)(T.E,{font:"header-s-semibold",overflow:"ellipsis",noWrap:!0,children:s.displayName})]})]})};var ea=s(16887),ei=s(43360),en=s(18307),ed=s.n(en);function ec(e){let{services:l,handleServiceAdd:s,handleServicePreview:t,handleServicesSeeAll:r}=e;return(0,o.jsxs)("div",{children:[(0,o.jsx)(T.E,{as:"h2",font:"header-m-semibold",mb:"250",unsafeClassName:ed().title,children:(0,b.__)("Services")}),l.length?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:ed().list,children:l.slice(0,5).map((e,r)=>{let{__typename:a,caption:i,formattedRetailPrice:n,id:d,name:c}=e;return(0,o.jsx)(ei.v,{caption:i,formattedPrice:n,id:d,name:c,onButtonClick:()=>s({offerItemId:d,offerItemType:a}),onListItemClick:()=>t({offerItemId:d,offerItemType:a}),variant:"lower",noBorder:r===l.length-1},d)})}),(0,o.jsx)(ea.b,{display:{default:"flex",tablet:"none"},children:(0,o.jsx)(i.$,{onAction:r,isFull:!0,variant:"secondary",size:"l",children:(0,b.__)("See all")})}),(0,o.jsx)(ea.b,{display:{default:"none",tablet:"flex"},children:(0,o.jsx)(i.$,{onAction:r,variant:"secondary",size:"l",children:(0,b.__)("See all")})})]}):(0,o.jsx)(T.E,{color:"neutralFaded",font:"body-m-regular",children:(0,b.__)("This professional doesn't provide any services")})]})}var eh=s(98693);let eu=()=>{let e=(0,x.ok)(),l=(0,x.a8)();return(0,f.useCallback)((s,o,t)=>({pathname:(0,eh.l3k)(s).pathname,query:{...Object.fromEntries([...e.entries()]),...t,employeeId:o,...l&&{back:l},entryPoint:"professional_profile_book_now"}}),[l,e])},ep=e=>{let{resolvedFragment:l,openServiceModal:s}=e,{navigateTo:t}=(0,d.c)(),r=eu(),a=(0,f.useCallback)(()=>t(r(l.locationSlug,l.employeeId)),[t,r,l.locationSlug,l.employeeId]),i=(0,f.useCallback)(e=>{let{offerItemId:s,offerItemType:o}=e;return t(r(l.locationSlug,l.employeeId,{..."Package"===o?{offerItems:s}:{offerItemId:s}})),Promise.resolve()},[t,r,l.locationSlug,l.employeeId]),n=(0,f.useCallback)(e=>{let{offerItemId:l}=e;return s(l)},[s]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ec,{services:l.services||[],handleServicesSeeAll:a,handleServiceAdd:i,handleServicePreview:n})})};var em=s(29469),ef=s.n(em),ex=s(95375),eg=s(85708),ev=s(49354),ej=s(95179),ey=s(55540),eb=s(90033),e_=s(42959),ew=s(67168),eS=s.n(ew);let ek=e=>{let{reviews:l,totalCount:s,totalRating:t,handleSeeAllReviews:r}=e,d=l.length<s;return(0,o.jsxs)("div",{className:eS().self,children:[(0,o.jsx)(T.E,{as:"h2",font:"header-m-semibold",mb:"250",children:(0,o.jsxs)(n.s,{alignItems:"center",gap:"100",children:[(0,b.__)("Reviews"),s?(0,o.jsx)(a.E,{value:s,color:"neutral"}):null]})}),l.length?(0,o.jsxs)(n.s,{direction:"column",gap:"300",children:[(0,o.jsx)(L.r,{halfStarIconSlot:ey.N,rating:t??0,stars:"five",starVariant:"yellow",size:"xxl",ratingCount:s??0,onAction:r}),(0,o.jsx)(eb.c,{}),(0,o.jsx)(n.s,{direction:"column",gap:"400",children:l.map(e=>{let{author:l,date:s,id:t,rating:r,text:a}=e;return(0,o.jsx)(e_.x,{caption:s.formattedDateWithTime,rating:r,text:a,name:l?.name,avatar:l?.avatar},t)})}),d&&(0,o.jsxs)("div",{children:[(0,o.jsx)(ea.b,{display:{default:"flex",tablet:"none"},children:(0,o.jsx)(i.$,{size:"l",variant:"secondary",isFull:!0,onAction:r,qaType:"see-all-reviews",children:(0,b.__)("See all %{count} reviews",{count:s})})}),(0,o.jsx)(ea.b,{display:{default:"none",tablet:"flex"},children:(0,o.jsx)(i.$,{size:"l",variant:"secondary",onAction:r,qaType:"see-all-reviews",children:(0,b.__)("See all %{count} reviews",{count:s})})})]})]}):(0,o.jsx)(T.E,{color:"neutralFaded",font:"body-m-regular",children:(0,b.__)("This professional doesnât have any reviews yet")})]})},eE=t.nNZ,eC=ej.V7.Latest,eI=e=>{let{isOpen:l,handleClose:s,employeeId:t,locationSlug:r,totalRating:a,employeeName:i}=e,[n,d]=(0,f.useState)(eC),c=(0,f.useRef)(0),{onFilter:h,ratings:u}=(0,ex.Pe)(),p={first:5,after:"",ratingsFilter:[],employeeId:t,locationSlug:r,sortingType:eC},{data:m,isLoading:x,isValidating:g,loadMore:v}=(0,ev.q)({document:l?eE:null,variables:(e,l)=>l?l.result.employeeProfile?.reviews?.pageInfo.hasNextPage&&l.result.employeeProfile.reviews.edges.length?{...l.variables,after:l.result.employeeProfile.reviews.edges[l.result.employeeProfile.reviews.edges.length-1].cursor}:null:{...p,ratingsFilter:u,sortingType:n}},{revalidateFirstPage:!1}),j=!x&&g,y=(0,f.useCallback)(async()=>{j||v()},[j,v]),b=(0,ev.d)(m,"employeeProfile.reviews.edges")?.result?.employeeProfile?.reviews;return b?.edges?.length?(c.current||=b.totalCount,(0,o.jsx)(eg.B,{isOpen:l,reviewsTotalCount:c.current,reviewsTotalCountFiltered:b.totalCount,rating:a,ratingsFilter:u,reviews:b,sort:n,isLoading:x,isLoadingMore:j,handleLoadMore:y,handleSort:d,handleFilter:h,handleClose:s,employeeName:i})):null},eT=e=>{let{data:l,openReviewsModal:s}=e,t=(0,j.gy)(l),r=(0,f.useMemo)(()=>t.reviews?.edges?.map(e=>e.node)||[],[t]);return t?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ek,{reviews:r,totalCount:t.reviewsCount||0,totalRating:t.rating||0,handleSeeAllReviews:s})}):null},eN=e=>{let{employeeId:l,locationSlug:s,rating:t,reviewsModal:r,employeeName:a}=e;return(0,o.jsx)(eI,{isOpen:r.isOpen,handleClose:r.closeModal,totalRating:t||0,employeeId:l,locationSlug:s,employeeName:a})},eA=t.WF1,eM="employee-profile",eP=()=>{let[e,l]=(0,f.useState)(null),s=(0,w.V)({key:eM});return(0,f.useMemo)(()=>({isOpen:s.isOpen,variables:e,open:e=>(l(e),s.openModal()),close:s.closeModal}),[s,e])},eF=e=>{let{fragment:l,fragmentServices:s,isOpen:t,close:r,includeBookNowFooter:a}=e,i=l?(0,j.gy)(l):null,n=(0,j.gy)(s),{professionalProfileSlug:c,locationId:h,providerId:u}=i||{};(0,f.useEffect)(()=>{t&&c&&h&&u&&v.m3.professionalProfileModalViewed({professional_profile_slug:c,location_id:h,provider_id:Number(u)})},[t,c,h,u]);let p=(0,U.Y)(),m=(0,D.C7)(),x=(0,D.LX)(),y=((e,l)=>{let{navigateTo:s}=(0,d.c)(),o=eu(),t=(0,g.wd)(),r=(0,f.useCallback)(()=>{t?.startBatch(2)},[t]),a=(0,w.V)({key:"employee-profile-service",onToggle:r}),i=(0,f.useRef)(null),n=(0,f.useCallback)(()=>(i.current=null,a.closeModal()),[a.closeModal]),c=(0,f.useCallback)(e=>(i.current=e,a.openModal()),[a.openModal]),h=(0,f.useCallback)(t=>(t.selectedId&&e&&l&&s(o(e,l,{offerItems:t.selectedId})),Promise.resolve()),[s,o,e,l]);return(0,f.useMemo)(()=>({closeModal:n,open:c,serviceId:i.current&&a.isOpen?i.current:null,onSubmit:h}),[n,c,h,a.isOpen])})(i?.locationSlug??null,i?.employeeId??null),b=!i,_=(0,w.V)({key:"employee-profile-reviews"});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eR,{isOpen:t,isLoading:b,close:r,openReviewsModal:_.openModal,resolvedFragment:i,resolvedServicesFragment:n,galleryModalProps:m,carouselGalleryModalProps:x,avatarGalleryModalProps:p,serviceModalProps:y,includeBookNowFooter:a}),!b&&(0,o.jsxs)(o.Fragment,{children:[!!i.avatar&&(0,o.jsx)(U.Z,{modalProps:p,avatarSrc:i.avatar.url,employeeName:i.displayName}),(0,o.jsx)(eN,{employeeId:i.employeeId,locationSlug:i.locationSlug,rating:i.rating,reviewsModal:_,employeeName:i.displayName}),(0,o.jsx)(D.kv,{modalProps:x,employeeId:i.employeeId,fallbackPortfolio:i.portfolio,locationSlug:i.locationSlug}),(0,o.jsx)(D.DE,{employeeId:i.employeeId,locationSlug:i.locationSlug,hashModalProps:m,fallbackPortfolio:i.portfolio,carouselGalleryModalProps:x,employeeName:i.displayName}),n?.services&&(0,o.jsx)(k.V,{isBookable:!0,services:n.services,slug:i.locationSlug,onClose:y.closeModal,serviceId:y.serviceId,onSubmit:y.onSubmit})]})]})},eL=e=>{let{variables:l,isOpen:s,close:t,includeBookNowFooter:r=!0,includeServices:a=!0}=e,[i,n]=(0,f.useState)(l),c=(0,f.useCallback)(e=>(n(null),t(e)),[t]);(0,f.useEffect)(()=>{l||n(l)},[l]),(0,f.useEffect)(()=>{i||c({isUserInteraction:!1})},[i,c]);let{redirectTo:h}=(0,d.c)(),u=(0,y.uS)(l?eA:null,l?{...l,includeServices:a}:void 0),p=(0,x.a8)(),{addErrorToast:m}=(0,S.Y)();return((0,f.useEffect)(()=>{s&&!u.isLoading&&u.errors?.length&&(m(u.errors[0]?.extensions?.formattedMessage??(0,b.__)`Failed to load employee profile`),c({isUserInteraction:!1}))},[s,u.isLoading,u.errors,m,c]),(0,f.useEffect)(()=>{!l&&s&&(c({isUserInteraction:!1}),h({pathname:p,hash:""}))},[l,h,c,p,s]),l)?(0,o.jsx)(g.ow,{children:(0,o.jsx)(eF,{fragment:u.isLoading?null:u.data?.employeeProfile??null,fragmentServices:u.isLoading||!a?null:u.data?.employeeProfile,isOpen:s,close:c,includeBookNowFooter:r},l?.employeeId)}):null},eR=e=>{let{isOpen:l,close:s,isLoading:t,resolvedFragment:d,resolvedServicesFragment:v,openReviewsModal:y,galleryModalProps:w,carouselGalleryModalProps:S,serviceModalProps:k,avatarGalleryModalProps:E,includeBookNowFooter:C=!0}=e,[I,T]=(0,f.useState)(!0),N=t||!d,A=!!N||I,[F,L]=(0,f.useState)(A),R=eu(),$=(0,f.useCallback)((e,l)=>{e||s({isUserInteraction:!!l})},[s]),[H,U]=(0,f.useState)(!1),[D,V]=(0,f.useState)(!0),q=(0,f.useRef)(null),[G,Y]=(0,f.useState)(""),{selectionIndicatorProps:Q,listContainerProps:Z}=(0,u.S)(q,G),[X,K]=(0,f.useState)("scroll"),J=(0,j.gy)(d)?.reviewsCount??0,ee=(0,j.gy)(d?.portfolio)?.total??0,el=(0,f.useCallback)(()=>{if(!q.current)return;let e=q.current.querySelector('[aria-selected="true"]');if(e){let l=e.offsetLeft,s=l+e.offsetWidth,o=q.current.scrollLeft,t=o+q.current.clientWidth;if(l<o||s>t){let s=l-q.current.clientWidth/2+e.offsetWidth/2;q.current?.scrollTo({left:Math.max(0,s),behavior:"smooth"})}}},[]);(0,f.useEffect)(()=>{el()},[el,G]);let es=(0,f.useMemo)(()=>new Map([["profile",{key:"profile",label:(0,b.__)`About`,isActive:!0}],...v?.services?[["services",{key:"services",label:(0,b.__)`Services`,isActive:!1}]]:[],["portfolio",{key:"portfolio",label:(0,b.__)`Portfolio`,isActive:!1,suffix:ee?(0,o.jsx)(a.E,{value:ee,emphasis:"high",color:"neutral",maxCount:99,border:"none"}):void 0}],["reviews",{key:"reviews",label:(0,b.__)`Reviews`,isActive:!1,suffix:J?(0,o.jsx)(a.E,{value:J,emphasis:"high",color:"neutral",maxCount:99,border:"none"}):void 0}]]),[J,ee,v?.services]),eo=(e,l)=>{if("scroll"===X){let s=es.get(e);s&&(l?es.set(e,{...s,isActive:!0}):es.set(e,{...s,isActive:!1}));let o=Array.from(es.values()).find(e=>e.isActive)?.key;o&&Y(o)}},et=(0,x.a8)(),ea=(0,x.ok)(),ei=e=>()=>{if(q.current){let l=q.current.scrollLeft+("left"===e?-1:1)*q.current.clientWidth/2;q.current?.scrollTo({left:l,behavior:"smooth"})}return Promise.resolve()},en=!(H&&D),ed=(0,c.d)("tablet"),ec=(0,f.useRef)(void 0),eh=(0,f.useCallback)(()=>{K("scroll")},[]),em=(0,f.useRef)(null),ex=(0,f.useCallback)(()=>{clearTimeout(ec.current),ec.current=setTimeout(()=>{eh()},100)},[eh]);(0,f.useEffect)(()=>()=>{clearTimeout(ec.current)},[]),(0,f.useEffect)(()=>{l?G&&"profile"!==G?L(!0):L(!A):L(!1)},[A,G,l]),(0,f.useEffect)(()=>(em.current?.addEventListener("scroll",ex),()=>{em.current?.removeEventListener("scroll",ex)}),[ex,l]);let eg=(0,f.useCallback)(()=>{em.current?.scrollTo({top:0,behavior:"smooth"})},[]);return(0,o.jsx)(g.Yf,{bodyRef:em,footer:C?N?(0,o.jsx)(h.E,{shape:"rounded",width:"100%",height:"48px"}):(0,o.jsx)(i.$,{size:"l",isFull:!0,variant:"primary",linkTo:R(d.locationSlug,d.employeeId),children:(0,b.__)("Book now")}):void 0,isOpen:l,setOpen:$,size:"medium",title:(0,o.jsx)(er,{isLoading:N,resolvedFragment:d,isHeroSectionVisible:!F,onAvatarClick:eg}),isCollapsed:!0,hideTitleFromBody:!0,classNameHeader:(0,m.A)(ef().modalHeader,!F&&ef()["modalHeader--variant-gray"]),classNameContent:(0,m.A)(!C&&ef()["modalContent--only-child"]),children:N?(0,o.jsxs)(n.s,{direction:"column",gap:"500",children:[(0,o.jsx)(W,{}),(0,o.jsx)(B,{}),(0,o.jsx)(P,{})]}):(0,o.jsx)(_.Gj,{threshold:.5,rootMargin:`-${ed?104:60}px`,children:(0,o.jsxs)(n.s,{direction:"column",children:[(0,o.jsxs)(_.Gj,{rootMargin:`-${ed?104:60}px`,children:[(0,o.jsx)("span",{id:"profile-anchor",className:ef().anchor}),(0,o.jsx)(_.Lf,{onShow:()=>T(!0),onHide:()=>T(!1),children:(0,o.jsx)(O,{reviewsCount:d.reviewsCount||0,reviewsRating:d.rating||0,initials:d.initials,displayName:d.displayName,jobTitle:d.jobTitle,avatar:d.avatar,lastUserReview:d.userRating,handleSeeAllReviews:y,handleAvatarClick:d.avatar?E.openModal:void 0})})]}),(0,o.jsxs)(p.g,{unsafeClassName:(0,m.A)(ef().pillsContainer,{[ef()["pillsContainer--showChrome"]]:!A}),variant:"pill",backgroundVariant:"onPage",children:[(0,o.jsx)(p.g.ScrollShadow,{location:"start",visible:!D&&H}),(0,o.jsxs)(p.g.Rail,{padding:"0",ref:q,children:[(0,o.jsx)(_.Lf,{onShow:()=>V(!0),onHide:()=>V(!1)}),(0,o.jsx)(p.g.SelectionIndicator,{...Q}),(0,o.jsx)(p.g.ListContainer,{...Z,children:[...es.values()].map(e=>{let l;return(0,o.jsx)(p.g.Item,{"aria-selected":G===e.key,as:r.d,linkTo:{pathname:et,search:ea?.toString()||"",hash:"#modal-employee-profile"},onAction:(l=e.key,()=>{K("manual"),Y(l);let e=document.getElementById(`${l}-anchor`);e&&e.scrollIntoView({behavior:"smooth"})}),children:(0,o.jsxs)(n.s,{direction:"row",gap:"50",as:"span",children:[e.label," ",e.suffix]})},e.key)})}),(0,o.jsx)(_.Lf,{onShow:()=>U(!0),onHide:()=>U(!1)})]}),(0,o.jsx)(p.g.ScrollShadow,{location:"end",visible:!H}),en&&(0,o.jsx)(p.g.ChevronControls,{prevAction:ei("left"),nextAction:ei("right"),isPrevDisabled:D,isNextDisabled:H})]}),(0,o.jsxs)(n.s,{direction:"column",gap:"800",children:[(0,o.jsx)(_.Lf,{onShow:()=>eo("profile",!0),onHide:()=>eo("profile",!1),children:(0,o.jsx)(M,{about:d.about,appointmentsCompleted:d.appointmentsCompleted,basicsAndInterests:d.basicsAndInterests,clientsServed:d.clientsServed,languages:d.languages})}),v&&(0,o.jsxs)(_.Lf,{onShow:()=>eo("services",!0),onHide:()=>eo("services",!1),children:[(0,o.jsx)("span",{id:"services-anchor",className:ef().anchor}),(0,o.jsx)(ep,{resolvedFragment:v,openServiceModal:k.open})]}),(0,o.jsxs)(_.Lf,{onShow:()=>eo("portfolio",!0),onHide:()=>eo("portfolio",!1),children:[(0,o.jsx)("span",{id:"portfolio-anchor",className:ef().anchor}),(0,o.jsx)(z.l,{employeeId:d.employeeId,locationSlug:d.locationSlug,portfolioData:d.portfolio,galleryModalProps:w,carouselGalleryModalProps:S})]}),(0,o.jsxs)(_.Lf,{onShow:()=>eo("reviews",!0),onHide:()=>eo("reviews",!1),children:[(0,o.jsx)("span",{id:"reviews-anchor",className:ef().anchor}),(0,o.jsx)(eT,{data:d,openReviewsModal:y})]})]})]})})})}},67168:e=>{e.exports={self:"Reviews_self__NhSR_"}},85394:e=>{e.exports={icon:"Share_icon__I4erx"}},97719:e=>{e.exports={hero:"Hero_hero__f54dy",lastUserReview:"Hero_lastUserReview__C76Ee"}}}]);
//# sourceMappingURL=1227-048b012a6f891560.js.map